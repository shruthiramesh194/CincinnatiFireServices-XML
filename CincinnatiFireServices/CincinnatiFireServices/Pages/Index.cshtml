@page
@model IndexModel
@{
    //ViewData["Title"] = "Home page";
    List<QuickType.Incident> allIncidents = (List<QuickType.Incident>)ViewData["allIncidents"];
    List<QuickTypeHydrant.Hydrant> allHydrants = (List<QuickTypeHydrant.Hydrant>)ViewData["allHydrants"];
}
<link rel="stylesheet" href="~/css/index.css"/>
<div>
    <h3 class="text-lg-center">
        <strong>About Cincinnati Fire Services</strong>
    </h3>
    <div class="text-center">
        The Cincinnati Fire Department provides fire protection and emergency medical services 
        for Cincinnati, Ohio. The department, which was established on April 1, 1853, was the 
        first fully paid and professional fire department in the United States. Along with 
        being responsible for nearly 80 square miles (210 km2) of land, the department also 
        provides response coverage to 25 miles (40 km) of Ohio River shoreline. The Cincinnati 
        Fire Department became the first professional, paid fire department in the United States 
        on April 1, 1853.
    </div>
    <br />

    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://user-images.githubusercontent.com/77543344/111858065-5f838600-890c-11eb-9bf1-e7615c090d28.jpeg" class="d-block w-100" alt="..."/>
            </div>

            <div class="carousel-item">
                <img src="https://vogelpohlfire.com/wp-content/uploads/2020/04/Cincinnati-Fire-Department-Cincinnati-Ohio-SO-141968%E2%80%93969-01-Edited.jpg" class="d-block w-100" alt="..."/>
            </div>

            <div class="carousel-item">
                <img src="https://farm4.staticflickr.com/3127/4558313805_9099c75f59_z.jpg" class="d-block w-100" alt="..."/> 
            </div>

        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>

        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>

    </div>
    <div>
        @if (String.IsNullOrEmpty(Model.error))
        {

            <h3 class="text-lg-center">
                <strong>Events around fire incidents</strong>
            </h3>
            <br />
            @if (allIncidents.Any())
            {
                <div class="text-center">
                    <table id="Fire">
                        <thead>
                            <tr>
                                <th>Address</th>
                                <th>Incident Type</th>
                                <th>Incident Type Group</th>
                                <th>Create Time Incident</th>
                                <th>Dispatch Time Primary Unit</th>
                                <th>Arrival Time Primary Unit</th>
                                <th>Closed Time Incident</th>
                                <th>Neighborhood</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                var incCount = 0;
                                foreach (QuickType.Incident incident in allIncidents)
                                {
                                    if (incCount < 20)
                                    {
                                        <tr>
                                            <td>@incident.AddressX</td>
                                            <td>@incident.CfdIncidentType</td>
                                            <td>@incident.CfdIncidentTypeGroup</td>
                                            <td>@incident.CreateTimeIncident</td>
                                            <td>@incident.DispatchTimePrimaryUnit</td>
                                            <td>@incident.ArrivalTimePrimaryUnit</td>
                                            <td>@incident.ClosedTimeIncident</td>
                                            <td>@incident.Neighborhood</td>
                                        </tr>
                                        incCount = incCount + 1;
                                    }
                                    else
                                    {
                                        break;
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
             }
             else
             {
                <div>
                    <strong>No incidents reported</strong>
                </div>
             }
         }
         else
         {
            <div>
                <strong>@Model.error</strong>
            </div>
         }
    </div>
    <div>
        @if (String.IsNullOrEmpty(Model.error))
        {
            <h3 class="text-lg-center ">
                <strong>Nearby  Hydrants</strong>
            </h3>
            <br />
            @if (allIncidents.Any())
            {
                <div class=" align-content-center ">
                    <table id="hydra" class="text-center">
                        <thead>
                            <tr>
                                <th>Service Area</th>
                                <th>Life Cycle Status</th>
                                <th>Latitude</th>
                                <th>Longitude</th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                var incCounter = 0;
                                foreach (QuickTypeHydrant.Hydrant hydrant in allHydrants)
                                {
                                    if (incCounter < 20)
                                    {
                                        <tr>
                                            <td>@hydrant.Servicearea</td>
                                            <td>@hydrant.Lifecyclestatus</td>
                                            <td>@hydrant.Latitude</td>
                                            <td>@hydrant.Longitude</td>
                                        </tr>
                                        incCounter = incCounter + 1;
                                    }
                                    else
                                    {
                                        break;
                                    }
                                }
                            }
                        </tbody>
                    </table>
                </div>
            }
            else
            {
                <div>
                    <strong>No Hydrants Found</strong>
                </div>
            }
        }
        else
        {
            <div>
                <strong>@Model.error</strong>
            </div>
        }
    </div>
</div>